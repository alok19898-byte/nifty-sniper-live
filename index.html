<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sniper Terminal - Protocol Fixed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #010409; color: #e6edf3; font-family: sans-serif; margin: 0; padding: 0; }
        .max-vol { background: #7c3aed !important; box-shadow: 0 0 15px #7c3aed; color: white !important; font-weight: bold; border-radius: 4px; }
        .max-oi { background: #2563eb !important; box-shadow: 0 0 15px #2563eb; color: white !important; font-weight: bold; border-radius: 4px; }
        .max-oic { background: #ea580c !important; box-shadow: 0 0 15px #ea580c; color: white !important; font-weight: bold; border-radius: 4px; }
        .strike-col { background: #161b22; color: #58a6ff; font-weight: 900; border-left: 2px solid #30363d; border-right: 2px solid #30363d; }
        .red-line { border-bottom: 5px solid #ff0000 !important; box-shadow: 0 4px 15px rgba(255,0,0,0.5); }
        .soc-alert { background: #7f1d1d !important; animation: blink 0.8s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    </style>
</head>
<body onload="initTerminal()">

    <div class="p-4 bg-[#0d1117] border-b border-[#30363d] sticky top-0 z-50 shadow-xl">
        <div class="flex justify-between items-center mb-3">
            <h1 class="text-xl font-black text-[#58a6ff] italic uppercase">Sniper Terminal ðŸŽ¯</h1>
            <div id="risk-status" class="px-4 py-1 rounded border font-black text-[10px] uppercase tracking-widest">
                System Loading...
            </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
            <div id="soc-box" class="bg-[#161b22] p-2 rounded border border-[#30363d] text-center">
                <p class="text-[8px] text-gray-500 font-bold uppercase">SOC Timer (3h)</p>
                <p id="soc-timer" class="text-xs font-black">00:00:00</p>
            </div>
            <div class="bg-[#161b22] p-2 rounded border border-[#30363d] text-center">
                <p class="text-[8px] text-gray-500 font-bold uppercase">5% Stuck Rule</p>
                <p id="stuck-status" class="text-xs font-black">CHECKING</p>
            </div>
            <div class="bg-[#161b22] p-2 rounded border border-[#30363d] text-center">
                <p class="text-[8px] text-gray-500 font-bold uppercase">OI Chg Pressure</p>
                <p id="oic-status" class="text-xs font-black">SCANNING</p>
            </div>
            <div class="bg-[#161b22] p-2 rounded border border-[#30363d] text-center">
                <p class="text-[8px] text-gray-500 font-bold uppercase">Strength %</p>
                <p id="strength-val" class="text-xs font-black text-yellow-500">0%</p>
            </div>
        </div>
    </div>

    <div class="p-2 mb-48 overflow-x-auto">
        <table class="w-full text-center border-collapse">
            <thead>
                <tr class="text-gray-500 text-[10px] uppercase bg-[#0d1117]">
                    <th class="p-3">IV</th><th class="p-3">OI Chg</th><th class="p-3">OI</th><th class="p-3">Vol</th>
                    <th class="p-3 text-green-400">LTP(C)</th>
                    <th class="p-3 text-blue-400">STRIKE</th>
                    <th class="p-3 text-red-400">LTP(P)</th>
                    <th class="p-3">Vol</th><th class="p-3">OI</th><th class="p-3">OI Chg</th><th class="p-3">IV</th>
                </tr>
            </thead>
            <tbody id="terminal-body" class="font-mono text-[13px] text-white">
                </tbody>
        </table>
    </div>

    <div class="fixed bottom-0 w-full p-4 bg-[#0d1117] border-t-2 border-[#30363d] shadow-2xl">
        <div id="protocol-msg" class="p-3 bg-blue-900/20 border border-blue-500/50 rounded text-[11px] font-black italic uppercase text-center text-blue-100">
            Analyzing Protocol Conditions...
        </div>
    </div>

    <script>
        let counter = 0;
        function initTerminal() {
            const strikes = [25100, 25150, 25200, 25250, 25300, 25350, 25400];
            const spot = 25268.45;

            function refresh() {
                // Mocking data logic according to Master Protocol [cite: 2026-02-14]
                let strength = Math.random() > 0.7 ? 5 : Math.floor(65 + Math.random() * 30);
                counter += 2; 

                // SOC & Stuck Logic [cite: 2026-02-15]
                const riskBtn = document.getElementById('risk-status');
                const advisory = document.getElementById('protocol-msg');
                const stuckEl = document.getElementById('stuck-status');

                if (strength === 5) {
                    stuckEl.innerText = "STUCK AT 5%";
                    stuckEl.className = "text-xs font-black text-red-500";
                    advisory.innerText = "RULE: 5% STUCK DETECTED. TRADE ONLY AT WTT-1 / WTB+1.";
                } else {
                    stuckEl.innerText = "DYNAMIC";
                    stuckEl.className = "text-xs font-black text-green-400";
                }

                if (counter >= 180 && strength === 5) {
                    document.getElementById('soc-box').classList.add('soc-alert');
                    advisory.innerText = "SOC ALERT: 3 HOURS STUCK. EXIT/AVOID ALL TRADES.";
                    riskBtn.innerText = "STATE OF CONFUSION";
                } else if (strength >= 90) {
                    riskBtn.innerText = "90% FREEZE - NO TRADE";
                    riskBtn.className = "px-4 py-1 rounded bg-red-600 text-white font-black";
                } else {
                    riskBtn.innerText = "SAFE SNIPER ZONE";
                    riskBtn.className = "px-4 py-1 rounded bg-green-600 text-white font-black";
                }

                document.getElementById('strength-val').innerText = strength + "%";
                document.getElementById('soc-timer').innerText = new Date(counter * 60000).toISOString().substr(11, 8);

                // Build Row HTML
                let html = "";
                strikes.forEach((s, i) => {
                    let isCrossover = (spot > s && spot < (strikes[i+1] || 999999));
                    html += `<tr class="${isCrossover ? 'red-line' : 'border-b border-gray-800'}">
                        <td class="p-3 text-gray-500 italic">11.5</td>
                        <td class="p-3 text-green-500">4500</td>
                        <td class="p-3 ${s === 25350 ? 'max-oi' : ''}">28000</td>
                        <td class="p-3 ${s === 25300 ? 'max-vol' : ''}">82000</td>
                        <td class="p-3 font-bold">120.4</td>
                        <td class="p-3 strike-col">${s}</td>
                        <td class="p-3 font-bold">85.2</td>
                        <td class="p-3 ${s === 25150 ? 'max-vol' : ''}">75000</td>
                        <td class="p-3 ${s === 25100 ? 'max-oi' : ''}">24000</td>
                        <td class="p-3 text-red-500">3800</td>
                        <td class="p-3 text-gray-500 italic">12.1</td>
                    </tr>`;
                });
                document.getElementById('terminal-body').innerHTML = html;
            }
            setInterval(refresh, 2000); refresh();
        }
    </script>
</body>
</html>
